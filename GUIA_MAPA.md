# ğŸ—ºï¸ GuÃ­a RÃ¡pida: Vista de Mapa Interactivo

## Â¿QuÃ© es?

La **Vista de Mapa Interactivo** es una nueva funcionalidad que permite visualizar todas las cÃ¡maras de trÃ¡fico de MÃ¡laga sobre un mapa interactivo, con separaciÃ³n por distritos y acceso directo a los detalles de cada cÃ¡mara mediante clicks en los pines.

## Acceso RÃ¡pido

1. Abre la aplicaciÃ³n "CÃ¡maras de TrÃ¡fico - MÃ¡laga"
2. En la barra lateral izquierda, haz click en **"ğŸ—ºï¸ Modo Mapa"**
3. Haz click en **"ğŸ”„ Actualizar Mapa"**
4. Haz click en **"ğŸŒ Abrir en Navegador"**

Â¡Listo! Ahora puedes explorar el mapa interactivo en tu navegador.

## CaracterÃ­sticas Principales

### ğŸ“ Pins de CÃ¡maras
- Cada cÃ¡mara aparece como un pin en su ubicaciÃ³n exacta
- Los pins estÃ¡n coloreados segÃºn el distrito
- Al pasar el mouse, aparece el nombre y direcciÃ³n

### ğŸ¨ Colores por Distrito
Cada uno de los 11 distritos de MÃ¡laga tiene un color Ãºnico:
- Distrito 1 (Centro): ğŸ”´ Rojo
- Distrito 2 (MÃ¡laga Este): ğŸ”µ Azul turquesa
- Distrito 3 (Ciudad JardÃ­n): ğŸ”µ Azul claro
- Distrito 4 (BailÃ©n-Miraflores): ğŸŸ¢ Verde menta
- Distrito 5 (Palma-Palmilla): ğŸŸ¡ Amarillo
- ... y mÃ¡s

### ğŸ“Š Clustering Inteligente
- Las cÃ¡maras cercanas se agrupan automÃ¡ticamente
- Los nÃºmeros en los clusters indican cuÃ¡ntas cÃ¡maras hay
- Al hacer zoom, los clusters se expanden

### â„¹ï¸ InformaciÃ³n Detallada
Haz click en cualquier pin para ver:
- ğŸ“¹ Nombre de la cÃ¡mara
- ğŸ“ DirecciÃ³n completa
- ğŸ›ï¸ Distrito
- â™¿ Accesibilidad (si aplica)
- ğŸ”— Enlace a la web oficial
- ğŸ“· Enlace a la imagen en tiempo real
- ğŸ”¢ Datos tÃ©cnicos (ID, coordenadas)

### ğŸ” Filtros
Usa el selector de distrito para ver solo cÃ¡maras de un distrito especÃ­fico:
1. Selecciona un distrito del menÃº desplegable
2. Haz click en "Actualizar Mapa"
3. Solo aparecerÃ¡n las cÃ¡maras de ese distrito

## NavegaciÃ³n del Mapa

### ğŸ–±ï¸ Controles del Mouse
- **Zoom**: Rueda del mouse o botones +/- en la esquina
- **Pan**: Arrastra con el botÃ³n izquierdo
- **Click**: En un pin para ver informaciÃ³n

### âŒ¨ï¸ Atajos de Teclado
- **+**: Acercar zoom
- **-**: Alejar zoom
- **â†â†‘â†“â†’**: Mover el mapa

### ğŸ“± En Dispositivos TÃ¡ctiles
- **Pellizcar**: Para hacer zoom
- **Arrastrar**: Para mover el mapa
- **Toque**: En un pin para informaciÃ³n

## Casos de Uso

### 1ï¸âƒ£ Planificar una Ruta
"Quiero saber quÃ© cÃ¡maras hay en mi ruta al trabajo"
1. Abre el mapa
2. Localiza tu punto de partida
3. Sigue visualmente tu ruta
4. Observa las cÃ¡maras en el camino

### 2ï¸âƒ£ Buscar CÃ¡maras por Zona
"Â¿QuÃ© cÃ¡maras hay en el centro?"
1. Filtra por "Distrito 1"
2. Actualiza el mapa
3. Todas las cÃ¡maras del centro aparecen

### 3ï¸âƒ£ Explorar una CÃ¡mara EspecÃ­fica
"Quiero ver la cÃ¡mara de la Alameda"
1. Busca la zona de la Alameda en el mapa
2. Click en el pin de la cÃ¡mara
3. Click en "Ver imagen actual" en el popup

### 4ï¸âƒ£ Obtener InformaciÃ³n GeogrÃ¡fica
"Â¿DÃ³nde exactamente estÃ¡ esta cÃ¡mara?"
1. Click en el pin de la cÃ¡mara
2. En el popup, mira "Datos tÃ©cnicos"
3. AhÃ­ encontrarÃ¡s las coordenadas exactas

## SoluciÃ³n de Problemas

### â“ "El mapa no se abre en el navegador"
**SoluciÃ³n:**
1. Copia la ruta del archivo HTML mostrada en la app
2. PÃ©gala en la barra de direcciones de tu navegador
3. Presiona Enter

### â“ "No veo ninguna cÃ¡mara"
**Posibles causas:**
1. EstÃ¡s muy alejado - Haz zoom in
2. Tienes un filtro activo - Cambia a "Todos los distritos"
3. Las cÃ¡maras no se cargaron - Vuelve a Vista Lista primero

### â“ "El mapa se ve en blanco"
**SoluciÃ³n:**
1. Verifica tu conexiÃ³n a Internet (necesaria para los tiles del mapa)
2. Intenta recargar la pÃ¡gina del navegador (F5)
3. Prueba con otro navegador

### â“ "Los pins estÃ¡n en el lugar equivocado"
**Nota:** 
Las coordenadas provienen del CSV oficial del Ayuntamiento de MÃ¡laga.
Si detectas un error, puedes reportarlo a:
https://datosabiertos.malaga.eu

## Diferencias con Otras Vistas

| CaracterÃ­stica | Vista Lista | Vista CuadrÃ­cula | Vista Mapa |
|---------------|-------------|------------------|------------|
| Contexto geogrÃ¡fico | âŒ | âŒ | âœ… |
| Miniaturas de cÃ¡maras | âœ… | âœ… | âŒ |
| Filtro por zona | âœ… | âœ… | âœ… |
| OrdenaciÃ³n | âœ… | âŒ | âŒ |
| BÃºsqueda texto | âœ… | âœ… | âŒ |
| Relaciones espaciales | âŒ | âŒ | âœ… |

**RecomendaciÃ³n:** Usa el mapa para ubicar cÃ¡maras geogrÃ¡ficamente, y las otras vistas para ver las imÃ¡genes.

## Preguntas Frecuentes

### Â¿Necesito Internet?
SÃ­, para cargar los tiles del mapa (OpenStreetMap). Las cÃ¡maras ya estÃ¡n en tu dispositivo.

### Â¿El mapa se actualiza automÃ¡ticamente?
No, debes hacer click en "Actualizar Mapa" para regenerarlo con datos actuales.

### Â¿Puedo guardar el mapa?
SÃ­, el archivo HTML se guarda temporalmente. Puedes copiarlo a otra ubicaciÃ³n si lo deseas.

### Â¿Funciona offline?
Parcialmente. Las cÃ¡maras aparecerÃ¡n, pero el mapa base necesita conexiÃ³n.

### Â¿Puedo compartir el mapa?
SÃ­, puedes enviar el archivo HTML a otra persona. Se abrirÃ¡ en su navegador.

### Â¿Los colores de distrito son personalizables?
Actualmente no desde la interfaz, pero puedes editarlos en `config.py`.

## PrÃ³ximas Mejoras

Las siguientes caracterÃ­sticas estÃ¡n planificadas para futuras versiones:

- ğŸ” **BÃºsqueda en el mapa**: Buscar cÃ¡maras directamente desde el mapa
- ğŸ–¼ï¸ **Miniaturas en popups**: Ver imagen de la cÃ¡mara sin salir del mapa
- ğŸ›£ï¸ **Rutas**: Calcular rutas entre puntos mostrando cÃ¡maras
- ğŸ”¥ **Heatmap**: Densidad de cÃ¡maras por zona
- ğŸ“± **GeolocalizaciÃ³n**: Centrar en tu ubicaciÃ³n actual
- ğŸ’¾ **Exportar**: Guardar el mapa como imagen PNG

## MÃ¡s InformaciÃ³n

- **DocumentaciÃ³n tÃ©cnica completa**: `MAPA_INTERACTIVO.md`
- **CÃ³digo fuente**: `src/views/map_view.py`
- **Demo standalone**: `python3 demo_map_test.py`

## CrÃ©ditos

- Mapa base: OpenStreetMap (licencia ODbL)
- TecnologÃ­a de mapas: Folium/Leaflet
- Datos de cÃ¡maras: Ayuntamiento de MÃ¡laga (Datos Abiertos)

---

**Â¿Necesitas ayuda?** Contacta con el desarrollador o abre un issue en GitHub.
